@page
@model DeveloperPortal.Pages.ProjectDetails.IndexModel
@{
	ViewData["Title"] = "Project Details";
}
<style>
	.table-responsive .row {
		margin-bottom: 15px;
	}

	.datatbl {
		width: 100% !important;
	}

	#tabSiteInformation .pagination {
		display: list-item !important;
		text-align: start;
	}

	#tabSiteInformation .paginate_button a {
		margin-left: -5px !important;
	}

	#tabSiteInformation .paginate_button:first-child a {
		margin-left: -5px;
	}

	#unitKgrid .k-grid-add {
		margin-right: 110px;
	}

	.k-grid-content tr:last-child {
		border-bottom: solid 1px lightgray;
	}


	a.paginate_button {
		float: left !important;
	}

	.paginate_button:first-child a {
		margin-left: 0;
		border-top-left-radius: .25rem;
		border-bottom-left-radius: .25rem;
	}

	.paginate_button:last-child a {
		border-top-right-radius: .25rem;
		border-bottom-right-radius: .25rem;
	}

	.paginate_button.active a {
		color: #fff !important;
		background: #2C3E5C;
	}

	#dtPrkingData_paginate a.paginate_button {
		position: relative;
		padding: .5rem .75rem !important;
		margin: 1px !important;
		line-height: 1.25;
		color: #fff !important;
		background-color: #2C3E5C !important;
		border: 1px solid #2C3E5C !important;
	}

	a#dtPrkingData_paginate {
		color: #fff !important;
	}

	#dtPrkingData_paginate span {
		float: left;
		padding-right: 30px;
	}

	#dtPrkingData_paginate .paginate_button:hover {
		color: white !important;
		border: 1px solid #111;
		background-color: #111;
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
		background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
		background: -moz-linear-gradient(top, #585858 0%, #111 100%);
		background: -ms-linear-gradient(top, #585858 0%, #111 100%);
		background: -o-linear-gradient(top, #585858 0%, #111 100%);
		background: linear-gradient(to bottom, #585858 0%, #111 100%)
	}

	#dtPrkingData_paginate .paginate_button.current {
		color: white !important;
		border: 1px solid #111;
		background-color: #111;
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
		background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
		background: -moz-linear-gradient(top, #585858 0%, #111 100%);
		background: -ms-linear-gradient(top, #585858 0%, #111 100%);
		background: -o-linear-gradient(top, #585858 0%, #111 100%);
		background: linear-gradient(to bottom, #585858 0%, #111 100%)
	}

	#dtPrkingData_paginate a.paginate_button {
		position: relative;
		padding: .5rem .75rem !important;
		margin: 1px !important;
		;
		line-height: 1.25;
		color: #fff !important;
		background-color: #2C3E5C !important;
		border: 1px solid #2C3E5C !important;
	}

	a#dtSiteData_paginate {
		color: #fff !important;
	}

	#dtSiteData_paginate span {
		float: left;
		padding-right: 30px;
	}

	#dtSiteData_paginate .paginate_button:hover {
		color: white !important;
		border: 1px solid #111;
		background-color: #111;
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
		background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
		background: -moz-linear-gradient(top, #585858 0%, #111 100%);
		background: -ms-linear-gradient(top, #585858 0%, #111 100%);
		background: -o-linear-gradient(top, #585858 0%, #111 100%);
		background: linear-gradient(to bottom, #585858 0%, #111 100%)
	}

	#dtSiteData_paginate .paginate_button.current {
		color: white !important;
		border: 1px solid #111;
		background-color: #111;
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
		background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
		background: -moz-linear-gradient(top, #585858 0%, #111 100%);
		background: -ms-linear-gradient(top, #585858 0%, #111 100%);
		background: -o-linear-gradient(top, #585858 0%, #111 100%);
		background: linear-gradient(to bottom, #585858 0%, #111 100%)
	}

	#dtSiteData_paginate a.paginate_button {
		position: relative;
		padding: .5rem .75rem !important;
		margin: 1px !important;
		;
		line-height: 1.25;
		color: #fff !important;
		background-color: #2C3E5C !important;
		border: 1px solid #2C3E5C !important;
	}


	a#dtPermitNumberData_paginate {
		color: #fff !important;
	}

	#dtPermitNumberData_paginate span {
		float: left;
		padding-right: 30px;
	}

	#dtPermitNumberData_paginate .paginate_button:hover {
		color: white !important;
		border: 1px solid #111;
		background-color: #111;
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
		background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
		background: -moz-linear-gradient(top, #585858 0%, #111 100%);
		background: -ms-linear-gradient(top, #585858 0%, #111 100%);
		background: -o-linear-gradient(top, #585858 0%, #111 100%);
		background: linear-gradient(to bottom, #585858 0%, #111 100%)
	}

	#dtPermitNumberData_paginate .paginate_button.current {
		color: white !important;
		border: 1px solid #111;
		background-color: #111;
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #585858), color-stop(100%, #111));
		background: -webkit-linear-gradient(top, #585858 0%, #111 100%);
		background: -moz-linear-gradient(top, #585858 0%, #111 100%);
		background: -ms-linear-gradient(top, #585858 0%, #111 100%);
		background: -o-linear-gradient(top, #585858 0%, #111 100%);
		background: linear-gradient(to bottom, #585858 0%, #111 100%)
	}

	#dtPermitNumberData_paginate a.paginate_button {
		position: relative;
		padding: .5rem .75rem !important;
		margin: 1px !important;
		;
		line-height: 1.25;
		color: #fff !important;
		background-color: #2C3E5C !important;
		border: 1px solid #2C3E5C !important;
	}


</style>

@* Page Script *@

<script src="~/PageScripts/ProjectDetail/ProjectInformation.js"></script>
<script src="~/PageScripts/ProjectDetail/UnitMatrixInformation.js"></script>
<script src="~/PageScripts/ProjectDetail/ParkingInformation.js"></script>
<script src="~/PageScripts/ProjectDetail/LadbsInfomation.js"></script>
<script src="~/PageScripts/BuildingIntake/BuildingInformation.js"></script>
<script src="~/PageScripts/ProjectDetail/SiteInformation.js"></script>
<script src="~/pagescripts/ProjectDetail/DMS.js"></script>
<script src="~/pagescripts/ProjectDetail/FundingSource.js"></script>
<div class="page-content">
    <div class="container-fluid">
    <!-- Project Notification -->
    @* Project Notification *@
    @if (Model.ProjectSummary?.ReviewNote != null && Model.ProjectSummary.ReviewNote.Any())
    {
        <div class="project-notifications mt-4">
            <div class="bg-warning1 p-3 text-center position-relative">
                <span class="close-btn"></span>
                <p>
                    <b>You have new comments on @Model.ProjectSummary.ProjectName:</b>
                    <br />
                    @foreach (var note in Model.ProjectSummary.ReviewNote)
                    {
                        @note <br />
                    }
                </p>
            </div>
        </div>
    }

    <!-- End Project Notification -->
    </div>

    <div class="row">
        <div class="col-md-8">
            <h3 class="title" style="color:#393939; margin-bottom: 0;">  @Model.TabName</h3>
        </div>
        <div class="col-md-4">
            <div class="page-title left-data">
                <ul class="quick-action-link" style="padding-top:15px;padding-right: 10px;">
                    <li id="help">
                        <a class="btn red-tooltip" href="#" data-toggle="tooltip" data-placement="bottom" onclick="ProjectInformation.helpImage()" data-original-title="WorkFlow Image" title="WorkFlow Image" style="background:#113F67 !important">
                            <img src="~/Images/help.png" height="20" width="20">
                        </a>
                    </li>
                    <li id="PrintAll">
                        <a class="btn red-tooltip" href="#" data-toggle="tooltip" data-placement="bottom" title="Print" onclick="ProjectInformation.printSelectedTabs()" data-original-title="Print" style="background:#113F67 !important; margin-left:10px;">
                            <img src="~/Images/printer.svg">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div style="padding-left: 010px; padding-right: 10px;">
        @{
            Html.RenderPartial("_ProjectSummary", Model.ProjectSummary);
        }
    </div><br />

	<div style="padding-left: 010px; padding-right: 10px;">
		<!-- Tab links -->
		<div class="tab">
			<button class="tablinks active" onclick="ProjectInformation.openTab(event, 'tabProjectInformation')" id="btnProjectInformation">Project Information </button>
			<button class="tablinks" onclick="ProjectInformation.openTab(event, 'tabSiteInformation')" id="btnSiteInformation">Site Information </button>
			<button class="tablinks hide" onclick="ProjectInformation.openTab(event, 'tabProjectParticipants')">Project Participants</button>
			<button class="tablinks" onclick="ProjectInformation.openTab(event, 'tabDocuments')">Documents</button>
			<button class="tablinks hide" onclick="ProjectInformation.openTab(event, 'tabLogs')">Plan Review</button>
			<button class="tablinks" onclick="ProjectInformation.openTab(event, 'tabFundingSource')">Funding Source</button>
			<button class="tablinks" onclick="ProjectInformation.openTab(event, 'partialContainer')">Floor Plan Type</button>
		</div>

		<!-- Tab content -->
		<div id="tabProjectInformation" class="tabcontent" style="display: block ">
			@{
				Html.RenderPartial("_ProjectInformation");
			}
		</div>
		<div id="partialContainer" class="tabcontent">
			@{
				Html.RenderPartial(@"~/Pages/FloorPlanType/_FloorPlanType.cshtml", Model.FloorPlanTypes);
			}
		</div>
		<div id="tabSiteInformation" class="tabcontent">
			<table id="dtSiteData"></table>
		</div>
		<div id="tabImportantDates" class="tabcontent">
			<div id="divImportantDates"></div>
		</div>
		<div id="tabProjectParticipants" class="tabcontent">
			<div id="divProjectParticipants"></div>
		</div>
		<div id="tabPolicyContacts" class="tabcontent">
			<div id="divPolicyContacts"></div>
		</div>
		<div id="tabDocuments" class="tabcontent">
			<div id="divDocument"></div>
		</div>
		<div id="tabFundingSource" class="tabcontent">
    <div id="divFundingSource"></div>
</div>
		<div id="tabLogs" class="tabcontent">
			<div id="divLogs"></div>
		</div>
	</div>
</div>

@{
	Html.RenderPartial("UploadUnitInfo", Model.ProjectSummary);
}
<div id="Help">
	@{
		Html.RenderPartial("_Help", Model.ProjectSummary);
	}
</div>

<!--START Printing Deatils Popup -->
<div class="modal" id="printDetailsPopup" data-backdrop="static" aria-labelledby="LinkPropertyPopupTitle" aria-modal="true" role="dialog" tabindex="-1" aria-hidden="true" style="overflow: hidden;">
	<div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content" style="width:660px">
			<div class="modal-header">
				<div class="modal-title" id="EditAccountTitle">Print Case Details</div>
			</div>

			<div class="row">
				<div id="checkboxContainerPart1" class="col-md-5" style="margin-left:20px">  </div>
				<div id="checkboxContainerPart2" class="col-md-5" style="margin-left:20px"> </div>
			</div>

			<div class="modal-footer multi-button">
				<button id="cancelButton" class="modal-button left-button">Cancel</button>
				<button id="printButton" class="modal-button right-button">Print Details</button>

			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
	var baseUrl = window.location.origin;
	var Id = @Model.Id;
	var ProjectId = @Model.ProjectId;
	var isEditAccess = true;
	var reloadUntiGrid = false;
	var documentControlViewModelId = 7313;
	var logsControlViewModelId = 1006;
	var ContactControlViewModelId = 1028;
	// var PolicyContactControlViewModelId = 12505;
	var popupCaseId = 0;
	var popuprefProjectSiteID = 0;
	var popupTitle = "";
	var oldPageSize = 0;
	var selectedEvents = [];
	var reloadParkingGrid = false;
	var accessType="FULLACCESS";
	var SiteInformationData = [];
	var IsLoadSiteInformationTab = false;
	$.fn.dataTableExt.pager.numbers_length = 50;

	//Load on init
	UnitMatrixInformation.LoadUnitMatrix();
	BuildingInformation.load();
	SiteInformation.LoadSiteInformation()

</script>